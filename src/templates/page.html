{% extends 'base.html' %}

{%macro my_paginate(pagination,url,category)%}

{% if category == 'null' %}
<nav>
  <ul class="pagination justify-content-end" style="margin:20px 0">

    {%if pagination.has_prev%}
    <li class="page-item active"><a class="page-link" href="{{url_for(url,page=pagination.page-1)}}">Prev</a></li>
    {%else%}
    <li class="page-item disabled"><a class="page-link">Prev</a></li>
    {%endif%}

    <!-- iter_pages(left_edge=2,left_current=2,right_current=5,right_edge=2) -->
    {%for page in pagination.iter_pages(1,1,3,1)%}
    {%if page%}
    <li class="page-item {%if page==pagination.page%}active{%endif%}"><a class="page-link"
        href="{{url_for(url,page=page)}}">{{page}}</a></li>
    {%else%}
    <li class="page-item disabled"><a class="page-link">&hellip;</a></li>
    {%endif%}

    {%endfor%}

    {%if pagination.has_next%}
    <li class="page-item active"><a class="page-link" href="{{url_for(url,page=pagination.page+1)}}">Next</a></li>
    {%else%}
    <li class="page-item disabled"><a class="page-link">Next</a></li>
    {%endif%}

  </ul>
</nav>

{% else %}

<nav>
  <ul class="pagination justify-content-end" style="margin:20px 0">

    {%if pagination.has_prev%}
    <li class="page-item active"><a class="page-link"
        href="{{url_for(url,page=pagination.page-1, category=category)}}">Prev</a></li>
    {%else%}
    <li class="page-item disabled"><a class="page-link">Prev</a></li>
    {%endif%}

    <!-- iter_pages(left_edge=2,left_current=2,right_current=5,right_edge=2) -->
    {%for page in pagination.iter_pages(1,1,3,1)%}
    {%if page%}
    <li class="page-item {%if page==pagination.page%}active{%endif%}"><a class="page-link"
        href="{{url_for(url,page=page, category=category)}}">{{page}}</a></li>
    {%else%}
    <li class="page-item disabled"><a class="page-link">&hellip;</a></li>
    {%endif%}

    {%endfor%}

    {%if pagination.has_next%}
    <li class="page-item active"><a class="page-link"
        href="{{url_for(url,page=pagination.page+1,category=category)}}">Next</a></li>
    {%else%}
    <li class="page-item disabled"><a class="page-link">Next</a></li>
    {%endif%}

  </ul>
</nav>
{% endif %}
{%endmacro%}
