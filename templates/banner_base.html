
{% block active_page %}
{% endblock  %}
  </div>
  <div>
    {%import 'page.html' as pg%}
    {{pg.my_paginate(pagination,'get_all_banner')}}
  </div>
  <table id="banner-list" class="table table-striped table-hover shadow mb-4 ">
    <thead class="thead-dark">
    <tr>
      <th>id</th>
      <th>Title</th>
      <th>Description</th>
      <th>Display date</th>
      <th>Address</th>
      <th>Image</th>
    </tr>
  </thead>
  
  {% for event in result %}
    <tr>
      <td>{{ event.index }}</td>
      <td style="width: 25%;">{{ event.title }}</td>
      <td style="width: 25%;">{{ event.desc }}</td>
      <td style="width: 25%;">{{event.display_date}}</td>
      <td style="width: 25%;">{{event.address}}</td>
      <td>
        <i class='fas fa-image banner_image_button' 
          style='font-size:20px;' 
          data-id="{{ event.index }}"
          data-toggle="modal" 
          data-target="#image_modal">
        </i>
      </td>
    </tr>
    {% endfor %}
    
</table>
<div id="image_modal" class="modal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <img id="bannerImage" src="" style="height: 90%;">
    </div>
  </div>
</div>

<script type=text/javascript> $('#banner-list').on('click', '.banner_image_button' , e=> {
          e.preventDefault();
          var eventId = e.target.dataset.id;
          $.ajax({
            type: "GET",
            url: "/api/event/" + eventId,
            dataType: 'json',
            contentType: 'application/json; charset=utf-8',
          }).done(function (data) {
            $('#bannerImage').attr('src', data[0].img)
          })
      })
    </script>
